<!DOCTYPE html>
<html>
    <head>
        <title>API Test</title>
        <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    </head>
    <body>
        <h1>API Test</h1>
        <p id="clickme">Click here to call urban api.</p>
        
        <script>

            // click event handler
            var clickme = document.getElementById("clickme");
            clickme.addEventListener("click", function(even) {
                // insert urban api get request target url
                executeJSONPQuery("http://api.urbandictionary.com/v0/random/");
            });

            // Execute JSONP query, reusing script tag
            function executeJSONPQuery(strUrl) {
                // check if jsonp script tag has been injected
                // create new script tag with our new url
                var oldScript = document.getElementById("jsonp");
                var newScript = document.createElement("script");
                
                newScript.src = strUrl;
                newScript.id = "jsonp";

                // if jsonp script tag already exists in DOM, replace it; otherwise append new script tag to DOM
                if (oldScript !== null) {
                    document.body.replaceChild(newScript, oldScript);
                } else {
                    document.body.appendChild(newScript);
                }
            }

            // handlejsonpresults is called by injected scripts
            function handlejsonpresults(objData) {
                var arrWords = objData.results;
                var arrWordsLength = objData.results.length;
                var i, myNewList = document.createElement("ul");

                // loop through results array and create html list for each item
                for (i = 0; i < arrWordsLength; i++) {
                    var myLi = document.createElement("li");
                    var myTextNode = document.createTextNode(arrWords[i].text);
                    myLi.appendChild(myTextNode);
                    myNewList.appendChild(myLi);
                }

                // now words have been compiled, append list to the DOM
                document.body.appendChild(myNewList);
            }
        </script>
    </body>
</html>